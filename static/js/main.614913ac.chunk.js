(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{373:function(e,t,a){e.exports=a(701)},410:function(e,t){},413:function(e,t,a){},701:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),l=a.n(c),o=a(154),s=a(309),i=a(310),m=a(331),u=a(330),d=a(52),k=a(24),p=a(212),v=a(742),E=a(741);var _=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(p.a.Brand,{href:"#home"},r.a.createElement("img",{alt:"",src:"./components/layouts/stock-mkt.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Mercado Financiero"),r.a.createElement(E.a,{"aria-label":"Basic example"},!0!==e.data&&r.a.createElement(v.a,{onClick:e.onClick,variant:"outline-danger"}," Actualizar"),!0===e.data&&r.a.createElement(v.a,{onClick:e.onClick,variant:"outline-danger",disabled:!0},"Actualizar"),!0===e.data&&r.a.createElement(v.a,{onClick:e.onClick,variant:"outline-danger"},"Detener"),!0!==e.data&&r.a.createElement(v.a,{onClick:e.onClick,variant:"outline-danger",disabled:!0}," Detener"))),r.a.createElement("br",null))},h=a(743),b=a(747),g=a(751),f=a(750),S=a(745),y=a(748),x=a(749),C=a(746),T=Object(h.a)({table:{minWidth:700}});function j(e){return void 0===e?0:e.toLocaleString()}function w(e){var t,a=T(),n=e.data,c=n.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),l=c/e.total,o=function(e){return e.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0)}(n),s=function(e){return e.map((function(e){return e.unit})).reduce((function(e,t){return e+t}),0)}(n);return r.a.createElement(S.a,{component:C.a},r.a.createElement(b.a,{className:a.table,"aria-label":"spanning table"},r.a.createElement(y.a,null,r.a.createElement(x.a,null,r.a.createElement(f.a,null,"Acci\xf3n"),r.a.createElement(f.a,{align:"right"},"Volumen Venta"),r.a.createElement(f.a,{align:"right"},"Volumen Compra"),r.a.createElement(f.a,{align:"right"},"Volumen Total"))),r.a.createElement(g.a,null,n.map((function(e){return r.a.createElement(x.a,{key:e.desc},r.a.createElement(f.a,null,e.desc),r.a.createElement(f.a,{align:"right"},j(e.qty)),r.a.createElement(f.a,{align:"right"},j(e.unit)),r.a.createElement(f.a,{align:"right"},j(e.price)))})),r.a.createElement(x.a,null,r.a.createElement(f.a,{rowSpan:5}),r.a.createElement(f.a,{colSpan:2},"Volumen Total de Compra"),r.a.createElement(f.a,{align:"right"},j(s))),r.a.createElement(x.a,null,r.a.createElement(f.a,null,"Volumen Total de Venta"),r.a.createElement(f.a,{align:"right"}),r.a.createElement(f.a,{align:"right"},j(o))),r.a.createElement(x.a,null,r.a.createElement(f.a,null,"Volumen Total de Mercado"),r.a.createElement(f.a,{align:"right"}),r.a.createElement(f.a,{align:"right"},j(c))),r.a.createElement(x.a,null,r.a.createElement(f.a,null,"Volumen Total Absoluto"),r.a.createElement(f.a,{align:"right"}),r.a.createElement(f.a,{align:"right"},j(e.total))),r.a.createElement(x.a,null,r.a.createElement(f.a,{colSpan:2},"Porcentaje de este mercado sobre el volumen total"),r.a.createElement(f.a,{align:"right"},(100*(t=l,"".concat(t.toFixed(2)))).toFixed(2),"%")))))}var O=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This is the wsp"))},B=a(204),D=a.n(B),A=a(325),F=a(109),N=a(93),V=a(110),U=a(326),q=a(754),M=(a(413),a(414),a(329)),H=a(70),z=a(69);function L(e){return void 0===e?0:e.toLocaleString()}D()("wss://le-18262636.bitzonte.com",{path:"/stocks"});var K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={socket:D()("wss://le-18262636.bitzonte.com",{path:"/stocks"}),s:!1,first:!0,todos:[{id:1,title:"Take out",completed:!1},{id:2,title:"AA Take out",completed:!1},{id:3,title:"BB Take out",completed:!1}],show:!1,acciones_prueba:{},current_stock:{},acciones_instante:{},current_min:{},stocks:{},anterior:{},vender:{},total:{},comprar:{},total_2:0,valor_graf:{},nuevo:[],nombres_acciones:[],mkt:{},nombres_aux:[],mkt_max:0,mkts_max:{},st_prueba:{},mkt_prueba:{},acciones_completo:{},s_m:!1,car_mkt:""},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(t){e.setState({s_m:t}),e.setState({show:!0})},e.onClick=function(){!1===e.state.s?(e.setState({s:!0}),!0===e.state.first?(console.log("Encendiendo socket"),e.state.socket.connect(),e.setState({first:!1})):(e.state.socket.connect(),console.log("Encendiendo socket 2")),e.state.socket.on("UPDATE",(function(t){if(t.ticker in e.state.acciones_instante){e.state.valor_graf[t.ticker].push({name:t.time,value:t.value});var a=("0"+(n=new Date(1e3*t.time)).getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2);e.state.acciones_prueba[t.ticker]=[].concat(Object(o.a)(Object.values(e.state.acciones_prueba[t.ticker])),[{USD:t.value,name:a,ticker:t.ticker}]),e.setState({acciones_prueba:e.state.acciones_prueba}),t.value>e.state.current_stock[t.ticker]?(e.state.acciones_instante[t.ticker]=[{name:t.ticker,value:t.value,max:t.value,min:e.state.current_min[t.ticker],total:e.state.comprar[t.ticker]+e.state.vender[t.ticker],time:t.time,cambio:((t.value-e.state.anterior[t.ticker])/e.state.anterior[t.ticker]*100).toFixed(2)}],e.setState({acciones_instante:e.state.acciones_instante}),e.state.current_stock[t.ticker]=t.value,e.state.anterior[t.ticker]=t.value,e.setState({current_stock:e.state.current_stock}),e.setState({anterior:e.state.anterior}),e.refreshTableData()):t.value<e.state.current_min[t.ticker]?(e.state.acciones_instante[t.ticker]=[{total:e.state.comprar[t.ticker]+e.state.vender[t.ticker],name:t.ticker,time:t.time,value:t.value,max:e.state.current_stock[t.ticker],min:t.value,cambio:((t.value-e.state.anterior[t.ticker])/e.state.anterior[t.ticker]*100).toFixed(2)}],e.setState({acciones_instante:e.state.acciones_instante}),e.state.current_min[t.ticker]=t.value,e.state.anterior[t.ticker]=t.value,e.setState({current_min:e.state.current_min}),e.setState({anterior:e.state.anterior})):(e.state.acciones_instante[t.ticker]=[{total:e.state.comprar[t.ticker]+e.state.vender[t.ticker],name:t.ticker,time:t.time,value:t.value,max:e.state.current_stock[t.ticker],min:e.state.current_min[t.ticker],cambio:((t.value-e.state.anterior[t.ticker])/e.state.anterior[t.ticker]*100).toFixed(2)}],e.setState({acciones_instante:e.state.acciones_instante}),e.state.anterior[t.ticker]=t.value,e.setState({anterior:e.state.anterior}))}else{e.setState({nombres_acciones:[e.state.nombres_acciones,t.ticker]});var n;a=("0"+(n=new Date(1e3*t.time)).getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2);e.state.acciones_prueba[t.ticker]=[{USD:t.value,name:a,ticker:t.ticker}],e.setState({acciones_prueba:e.state.acciones_prueba}),console.log("ya no en los conocidos"),e.state.valor_graf[t.ticker]=[{name:t.time,value:t.value}],e.setState({valor_graf:e.state.valor_graf}),e.state.acciones_instante[t.ticker]=[{total:e.state.comprar[t.ticker]+e.state.vender[t.ticker],name:t.ticker,time:t.time,value:t.value,max:t.value,min:t.value,cambio:0}],e.setState({acciones_instante:e.state.acciones_instante}),e.state.current_stock[t.ticker]=t.value,e.state.current_min[t.ticker]=t.value,e.state.anterior[t.ticker]=t.value,e.setState({current_stock:e.state.current_stock}),e.setState({anterior:e.state.anterior}),e.setState({current_min:e.state.current_min})}var r={};Object.values(e.state.stocks).forEach((function(t){r[t.company_name]=t.ticker,e.state.acciones_completo[t.ticker]={nombre:t.company_name,pais:t.country}})),Object.values(e.state.mkt).forEach((function(t){return t.listed_companies.forEach((function(a){Object.keys(r).includes(a)&&(void 0===t.total?void 0===e.state.vender[r[a]]&&void 0===e.state.comprar[r[a]]?t.total=0:void 0===e.state.comprar[r[a]]?(t.total=e.state.vender[r[a]],e.setState({mkt_max:e.state.mkt_max+=t.total})):void 0===e.state.vender[r[a]]?(t.total=e.state.comprar[r[a]],e.setState({mkt_max:e.state.mkt_max+=t.total})):(t.total=e.state.vender[r[a]]+e.state.comprar[r[a]],e.setState({mkt_max:e.state.mkt_max+=t.total})):void 0===e.state.vender[r[a]]&&void 0===e.state.comprar[r[a]]?t.total+=0:void 0===e.state.comprar[r[a]]?(t.total+=e.state.vender[r[a]],e.setState({mkt_max:e.state.mkt_max+=e.state.vender[r[a]]})):void 0===e.state.vender[r[a]]?(t.total+=e.state.comprar[r[a]],e.setState({mkt_max:e.state.mkt_max+=e.state.comprar[r[a]]})):(t.total+=e.state.vender[r[a]]+e.state.comprar[r[a]],e.setState({mkt_max:e.state.mkt_max+=e.state.comprar[r[a]]+e.state.vender[r[a]]})),void 0===e.state.mkt_prueba[t.name]&&(e.state.mkt_prueba[t.name]={}),void 0===e.state.mkt_prueba[t.name][r[a]]?void 0===e.state.vender[r[a]]&&void 0===e.state.comprar[r[a]]?e.state.mkt_prueba[t.name][r[a]]={desc:r[a],qty:0,unit:0,price:0,mkt:t.exchange_ticker}:void 0===e.state.comprar[r[a]]?e.state.mkt_prueba[t.name][r[a]]={desc:r[a],qty:e.state.vender[r[a]],unit:0,price:e.state.vender[r[a]],mkt:t.exchange_ticker}:void 0===e.state.vender[r[a]]?e.state.mkt_prueba[t.name][r[a]]={desc:r[a],qty:0,unit:e.state.comprar[r[a]],price:e.state.comprar[r[a]],mkt:t.exchange_ticker}:e.state.mkt_prueba[t.name][r[a]]={desc:r[a],qty:e.state.vender[r[a]],unit:e.state.comprar[r[a]],price:e.state.comprar[r[a]]+e.state.vender[r[a]],mkt:t.exchange_ticker}:void 0===e.state.vender[r[a]]&&void 0===e.state.comprar[r[a]]?console.log(""):void 0===e.state.comprar[r[a]]?(e.state.mkt_prueba[t.name][r[a]].qty+=e.state.vender[r[a]],e.state.mkt_prueba[t.name][r[a]].price+=e.state.vender[r[a]]):void 0===e.state.vender[r[a]]?(e.state.mkt_prueba[t.name][r[a]].unit+=e.state.comprar[r[a]],e.state.mkt_prueba[t.name][r[a]].price+=e.state.comprar[r[a]]):(e.state.mkt_prueba[t.name][r[a]].qty+=e.state.vender[r[a]],e.state.mkt_prueba[t.name][r[a]].unit+=e.state.comprar[r[a]],e.state.mkt_prueba[t.name][r[a]].price+=e.state.comprar[r[a]]+e.state.vender[r[a]]),e.setState({mkt_prueba:e.state.mkt_prueba}))}))}))})),e.state.socket.on("BUY",(function(t){t.ticker in e.state.vender?(e.state.vender[t.ticker]+=t.volume,e.setState({vender:e.state.vender})):(e.state.vender[t.ticker]=t.volume,e.setState({vender:e.state.vender}))})),e.state.socket.on("SELL",(function(t){t.ticker in e.state.comprar?(e.state.comprar[t.ticker]+=t.volume,e.setState({comprar:e.state.comprar})):(e.state.comprar[t.ticker]=t.volume,e.setState({comprar:e.state.comprar}))})),e.state.socket.emit("EXCHANGES"),e.state.socket.on("EXCHANGES",(function(t){e.setState({mkt:t})})),e.state.socket.emit("STOCKS"),e.state.socket.on("STOCKS",(function(t){e.setState({stocks:t})}))):(e.setState({s:!1}),console.log("Apagando socket"),e.state.socket.disconnect())},e.refreshTableData=function(){return e.setState({refreshTableData:!e.state.refreshTableData})},e.markComplete=function(t){e.setState({todos:e.state.todos.map((function(e){return e.id===t&&(e.completed=!e.completed),e}))})},e.delTodo=function(t){e.setState({todos:Object(o.a)(e.state.todos.filter((function(e){return e.id!==t})))})},e.addTodo=function(t){var a={id:4,title:t,completed:!1};e.setState({todos:[].concat(Object(o.a)(e.state.todos),[a])})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onClick()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(_,{onClick:this.onClick,data:this.state.s}),r.a.createElement("div",{className:"container"},r.a.createElement(k.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null)}}),r.a.createElement(k.a,{path:"/about",component:O,data:this.state.mkt_prueba})),r.a.createElement(A.a,null,r.a.createElement("br",null),r.a.createElement(F.a,null,r.a.createElement(N.a,{sm:6},r.a.createElement(V.a,{bg:"dark"},Object.values(this.state.acciones_prueba).map((function(e){return r.a.createElement(V.a.Item,null,r.a.createElement(q.a,{style:{width:"34rem",height:"24rem"},border:"secondary"},r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,e[0].ticker),r.a.createElement(q.a.Text,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(z.b,{width:400,height:200,data:e,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(z.c,{strokeDasharray:"4 4"}),r.a.createElement(z.e,{dataKey:"name"}),r.a.createElement(z.f,null),r.a.createElement(z.d,null),r.a.createElement(z.a,{type:"monotone",dataKey:"USD",stroke:"#DB2A15",fill:"#FA9B87"}))))),r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Text,null,"Variaci\xf3n del precio de la acci\xf3n de ",e[0].ticker," en el tiempo.")),r.a.createElement(q.a.Footer,null,r.a.createElement("small",{className:"text-muted"}," - "))))})))),r.a.createElement(N.a,null,r.a.createElement(q.a,{style:{width:"34rem",height:"24rem"},border:"secondary"},r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,"Acciones Burs\xe1tiles"),r.a.createElement(M.j,{scrollY:!0,maxHeight:"277px"},0!==Object.values(this.state.acciones_instante).length&&r.a.createElement(U.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,["","precio USD","max USD","min USD","Vol. Total","cambio"].map((function(e,t){return r.a.createElement("th",{key:t}," ",r.a.createElement("p",null,e.toUpperCase())," ")}))),r.a.createElement("tbody",null,Object.values(this.state.acciones_instante).map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("h5",null,r.a.createElement(v.a,{variant:"outline-danger",size:"sm",onClick:function(){return e.handleShow(t[0].name)}},t[0].name," ")," ")),r.a.createElement("td",null,"$ ",L(t[0].value)),r.a.createElement("td",null,"$ ",L(t[0].max)),r.a.createElement("td",null,"$ ",L(t[0].min)),r.a.createElement("td",null,L(t[0].total)),t[0].cambio>=0&&r.a.createElement("td",{style:{color:"green"}},"+",t[0].cambio,"%"),t[0].cambio<0&&r.a.createElement("td",{style:{color:"red"}},t[0].cambio,"%")))})))))),r.a.createElement(q.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"Last update 1 second ago"))))),r.a.createElement("br",null),r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement("h2",null,"Mercados Burs\xe1tiles")),r.a.createElement("br",null)),r.a.createElement(F.a,null,0!==Object.values(this.state.mkt_prueba).length&&r.a.createElement(N.a,null,r.a.createElement(V.a,{disabled:!0},Object.values(this.state.mkt_prueba).map((function(t){return r.a.createElement(V.a.Item,null,r.a.createElement(q.a,{border:"secondary"},r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,Object.values(t)[0].mkt),r.a.createElement(w,{data:Object.values(t),total:e.state.mkt_max})),r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,e.state.mkt[Object.values(t)[0].mkt].name),r.a.createElement(q.a.Subtitle,null," Actualmente transa ",e.state.mkt[Object.values(t)[0].mkt].listed_companies.length," acciones"),r.a.createElement(q.a.Text,null,"Mercado ubicado en ",e.state.mkt[Object.values(t)[0].mkt].address,", ",e.state.mkt[Object.values(t)[0].mkt].country,".")),r.a.createElement(q.a.Footer,{className:"text-muted"},"Last update 1 second ago")))})))))),r.a.createElement(H.a,{show:this.state.show,onHide:this.handleClose,animation:!1},r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,null,this.state.s_m)),void 0!==this.state.acciones_completo[this.state.s_m]&&r.a.createElement(H.a.Body,null,r.a.createElement("h3",null,"Nombre Empresa:  ",this.state.acciones_completo[this.state.s_m].nombre),r.a.createElement("h3",null," Pa\xeds:  ",this.state.acciones_completo[this.state.s_m].pais)),0===Object.values(this.state.acciones_completo).length&&r.a.createElement(H.a.Body,null,"No hay datos"),r.a.createElement(H.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:this.handleClose},"Close"))),r.a.createElement(F.a,null,r.a.createElement(N.a,null,r.a.createElement("br",null)))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[373,1,2]]]);
//# sourceMappingURL=main.614913ac.chunk.js.map